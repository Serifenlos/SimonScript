function wow(){alert("dingdongwuhhu++")}function fixMask(e,t){try{var n=new ActionReference;n.putIndex(sTID("layer"),e);var s=executeActionGet(n),i=s.getUnitDoubleValue(sTID("userMaskFeather")),o=s.getUnitDoubleValue(sTID("userMaskDensity"));return i>0&&(gotoLayer(e),gotoMask(),setMaskFeatherTo(0),fixMaskFeather(i*t)),o<255&&(gotoLayer(e),gotoMask(),setMaskDensityTo(100),fixMaskDens(-1*(o-255))),!0}catch(s){return!1}}function fixMaskDens(e){var t=new ActionDescriptor,n=new ActionDescriptor,s=new ActionList,i=new ActionList,o=new ActionReference;t.putEnumerated(s2t("presetKind"),s2t("presetKindType"),s2t("presetKindCustom")),o.putEnumerated(s2t("channel"),s2t("ordinal"),s2t("targetEnum")),n.putReference(s2t("channel"),o),i.putInteger(e),i.putInteger(255),n.putList(s2t("output"),i),s.putObject(s2t("levelsAdjustment"),n),t.putList(s2t("adjustment"),s),executeAction(s2t("levels"),t,DialogModes.NO)}function fixMaskFeather(e){var t=new ActionDescriptor;t.putUnitDouble(s2t("radius"),s2t("pixelsUnit"),e),executeAction(s2t("gaussianBlur"),t,DialogModes.NO)}function fixMaskLoop(e){for(var t=getActiveLayerIndex(),n=1;fixMask(n,e);)n++;gotoLayer(t)}function getMaskVisibility(){var e=new ActionReference;return e.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),executeActionGet(e).getBoolean(s2t("userMaskEnabled"))}function layer_transform(e,t,n,s,i,o,r){var a=new ActionDescriptor,c=new ActionDescriptor,u=new ActionReference;if("topleft"==e)var l="QCSCorner0";else l="topcenter"==e?"QCSSide0":"topright"==e?"QCSCorner1":"midleft"==e?"QCSSide3":"midcenter"==e?"QCSAverage":"midright"==e?"QCSSide1":"bottomleft"==e?"QCSCorner3":"bottomcenter"==e?"QCSSide2":"bottomright"==e?"QCSCorner2":"QCSCorner0";if(u.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),a.putReference(s2t("null"),u),a.putEnumerated(s2t("freeTransformCenterState"),s2t("quadCenterState"),s2t(l)),c.putUnitDouble(s2t("horizontal"),s2t("pixelsUnit"),t),c.putUnitDouble(s2t("vertical"),s2t("pixelsUnit"),n),a.putObject(s2t("offset"),s2t("offset"),c),"%_canvas"==o){var p=doc.activeLayer.bounds[2]-doc.activeLayer.bounds[0],d=doc.activeLayer.bounds[3]-doc.activeLayer.bounds[1],f=parseFloat(doc.width/p*s),g=parseFloat(doc.height/d*i);s&&a.putUnitDouble(s2t("width"),s2t("percentUnit"),f),i&&a.putUnitDouble(s2t("height"),s2t("percentUnit"),g)}else"%_layer"==o?(p=doc.activeLayer.bounds[2]-doc.activeLayer.bounds[0],d=doc.activeLayer.bounds[3]-doc.activeLayer.bounds[1],f=parseFloat(p/doc.width*s*10),g=parseFloat(d/doc.height*i*10),s&&a.putUnitDouble(s2t("width"),s2t("percentUnit"),f),i&&a.putUnitDouble(s2t("height"),s2t("percentUnit"),g)):"px"==o&&(f=parseFloat(s/doc.width*100),g=parseFloat(i/doc.height*100),s&&a.putUnitDouble(s2t("width"),s2t("percentUnit"),f),i&&a.putUnitDouble(s2t("height"),s2t("percentUnit"),g));(s||i)&&r&&a.putBoolean(s2t("linked"),r),a.putEnumerated(s2t("interfaceIconFrameDimmed"),s2t("interpolationType"),s2t("bicubic")),executeAction(s2t("transform"),a,DialogModes.NO)}function selectLayerBySelector(e,t){try{var n=new ActionDescriptor,s=new ActionReference;if("remove"!=t&&t)i="addToSelection";else var i="removeFromSelection";s.putName(s2t("layer"),e),n.putReference(s2t("null"),s),n.putEnumerated(s2t("selectionModifier"),s2t("selectionModifierType"),s2t(i)),n.putBoolean(s2t("makeVisible"),!1),executeAction(s2t("select"),n,DialogModes.NO)}catch(e){}}function setLayerOpacity(e){var t=new ActionDescriptor,n=new ActionDescriptor,s=new ActionReference;s.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),t.putReference(s2t("null"),s),n.putUnitDouble(s2t("opacity"),s2t("percentUnit"),e),t.putObject(s2t("to"),s2t("layer"),n),executeAction(s2t("set"),t,DialogModes.NO)}function setMaskVisibility(e){var t=new ActionDescriptor,n=new ActionDescriptor,s=new ActionReference;if(0==e||"hide"==e)var i=!1;else 1==e||"show"==e?i=!0:"toggle"!=e&&"X"!=e||(i=!getMaskVisibility());try{s.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),t.putReference(s2t("null"),s),n.putBoolean(s2t("userMaskEnabled"),i),t.putObject(s2t("to"),s2t("layer"),n),executeAction(s2t("set"),t,DialogModes.NO)}catch(e){}}