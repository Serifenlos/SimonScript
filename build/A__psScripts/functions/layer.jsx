function checkTiefenLichter_create(e){var t=getLayerName(getActiveLayerIndex());if(createGroup("check "+e,"passThrough","none",100,f),createColorLayer("Tiefen_check","normal","none",100,"none",0,0,255),blendif("current",0,0,0+e,0+e),createColorLayer("Lichter_check","normal","none",100,"none",255,0,0),blendif("current",255-e,255-e,255,255),gotoLayer("check "+e),toogleOpenCloseSet(),layer_checkExistence("nachher"))moveLayer("check "+e,"nachher","up"),gotoLayer("check "+e),moveLayer3("down",1);else{for(var r=hasBackground()?0:1;layer_checkExistence(r);)r++;moveLayer("check "+e,parseInt(r-1),"up")}gotoLayer(t)}function checkTiefenLichter_create_button(e){try{if(layer_checkExistenceByRegex("check "))toogleVisibility("check ");else try{doc.suspendHistory("Create checkTiefenLichter","checkTiefenLichter_create("+e+")")}catch(e){alert("Error1:"+e)}}catch(e){alert("Error2:"+e)}}function checkTiefenLichter_edit(e,t){return blendif_check_steps=[],blendif_check_value=[],layer_blendif_edit(e,layer_getIDXbyString("Tiefen_check")[0],0,t),layer_blendif_edit(e,layer_getIDXbyString("Lichter_check")[0],-1*t,0),e?(blendif_check_steps.sort((function(e,t){return e-t})),layer_renameByIDX(layer_getIDXbyString("check ")[0],"check "+blendif_check_steps[0])):t>=0?blendif_check_value.sort((function(e,t){return t-e})):blendif_check_value.sort((function(e,t){return e-t})),blendif_check_value[0]}function checkTiefenLichter_edit_button(e){try{if(layer_checkExistenceByRegex("check"))try{e=parseInt(check_lastProtocolStep())+e;doc.suspendHistory("TiefenLichter Check "+checkTiefenLichter_protocol(checkTiefenLichter_edit(!1,e))+checkTiefenLichter_edit(!1,e)+" ","checkTiefenLichter_edit(true, "+e+");")}catch(e){alert("Error1:"+e)}}catch(e){alert("Error2:"+e)}}var checkTiefenLichter_protocol=function(e){return e>>>0===parseFloat(e)?"+":""},check_lastProtocolStep=function(){var e=doc.historyStates.length,t=doc.historyStates[e-1].name,r=new RegExp("^TiefenLichter Check ");if(t.match(r)){var n=parseInt(t.replace(/(TiefenLichter Check )([-+]\d)/g,"$2"));return undoSteps(1),n}return 0};function fixMask(e,t){try{var r=new ActionReference;r.putIndex(sTID("layer"),e);var n=executeActionGet(r),s=n.getUnitDoubleValue(sTID("userMaskFeather")),a=n.getUnitDoubleValue(sTID("userMaskDensity"));return s>0&&(gotoLayer(e),gotoMask(),setMaskFeatherTo(0),fixMaskFeather(s*t)),a<255&&(gotoLayer(e),gotoMask(),setMaskDensityTo(100),fixMaskDens(-1*(a-255))),!0}catch(n){return!1}}function fixMaskDens(e){var t=new ActionDescriptor,r=new ActionDescriptor,n=new ActionList,s=new ActionList,a=new ActionReference;t.putEnumerated(s2t("presetKind"),s2t("presetKindType"),s2t("presetKindCustom")),a.putEnumerated(s2t("channel"),s2t("ordinal"),s2t("targetEnum")),r.putReference(s2t("channel"),a),s.putInteger(e),s.putInteger(255),r.putList(s2t("output"),s),n.putObject(s2t("levelsAdjustment"),r),t.putList(s2t("adjustment"),n),executeAction(s2t("levels"),t,DialogModes.NO)}function fixMaskFeather(e){var t=new ActionDescriptor;t.putUnitDouble(s2t("radius"),s2t("pixelsUnit"),e),executeAction(s2t("gaussianBlur"),t,DialogModes.NO)}function fixMaskLoop(e){for(var t=getActiveLayerIndex(),r=1;fixMask(r,e);)r++;gotoLayer(t)}function getMaskVisibility(){var e=new ActionReference;return e.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),executeActionGet(e).getBoolean(s2t("userMaskEnabled"))}function getMaskVisibility_bySelector(e){var t=new ActionReference;return"number"==typeof e&&t.putIndex(s2t("layer"),e),"string"==typeof e&&(layer_checkExistence(e)?t.putName(s2t("layer"),e):t.putIndex(s2t("layer"),layer_getIDXbyString(e)[0])),void 0===e&&t.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),executeActionGet(t).getBoolean(s2t("userMaskEnabled"))}function layer_blendif_edit(e,t,r,n){var s=layer_blendif_get(t)[2]+n,a=layer_blendif_get(t)[0]+r,c=0;if(s<0){for(c=1;s+c<0;)c++;s=s+c}var o=0;if(a>255){for(o=1;a-o>255;)o++;a=a-o}e&&(blendif(t,a,a,s,s),blendif_check_steps.push(0+s),blendif_check_steps.push(255-a)),blendif_check_value.push(n+c),blendif_check_value.push(-1*(r-o))}function layer_blendif_get(_idx){try{var r=new ActionReference,d=new ActionDescriptor,array=[];r.putProperty(s2t("property"),s2t("json")),isNaN(_idx)?r.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")):r.putIndex(s2t("layer"),_idx),d.putReference(s2t("null"),r),eval("var json="+executeAction(s2t("get"),d,DialogModes.NO).getString(s2t("json")));var parents=loopParentsIDXfor(_idx).length;if(0==parents)var call=json.layers[0];else if(1==parents)var call=json.layers[0].layers[0];else if(2==parents)var call=json.layers[0].layers[0].layers[0];else if(3==parents)var call=json.layers[0].layers[0].layers[0].layers[0];else if(4==parents)var call=json.layers[0].layers[0].layers[0].layers[0].layers[0];else if(5==parents)var call=json.layers[0].layers[0].layers[0].layers[0].layers[0].layers[0];else if(6==parents)var call=json.layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0];else if(7==parents)var call=json.layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0];else if(8==parents)var call=json.layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0];else if(9==parents)var call=json.layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0];else if(10==parents)var call=json.layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0].layers[0];if(call.blendOptions.blendRange){var data=call.blendOptions.blendRange.toSource(),data=data.replace(/^\[\(/g,"").replace(/\)\]$/g,""),data=data.replace(/([a-zA-Z]+)/g,'"$1"'),data=data.replace(/\"\"gray\"\"/g,'"gray"'),data=JSON.parse(data);for(var i in data)"destBlackMin"!=i&&"destBlackMax"!=i&&"destWhiteMin"!=i&&"desaturate"!=i||array.push(data[i]);return array}}catch(e){alert(e)}}function layer_checkExistence(e){try{var t=new ActionReference;t.putProperty(s2t("property"),s2t("itemIndex")),"number"==typeof e?t.putIndex(s2t("layer"),e):"string"==typeof e&&t.putName(s2t("layer"),e);executeActionGet(t).getInteger(s2t("itemIndex"));return!0}catch(e){return!1}}function layer_checkExistenceByRegex(e){return 0!==layer_getIDXbyString(e).length}function layer_copyLayers(){executeAction(sTID("copyToLayer"),void 0,DialogModes.NO)}function layer_create(e,t,r,n){var s=new ActionDescriptor,a=new ActionDescriptor,c=new ActionReference;c.putClass(s2t("layer")),s.putReference(s2t("null"),c),a.putString(s2t("name"),e),a.putUnitDouble(s2t("opacity"),s2t("percentUnit"),t),a.putEnumerated(s2t("mode"),s2t("blendMode"),s2t("multiply")),a.putBoolean(s2t("fillNeutral"),r),s.putObject(s2t("using"),s2t("layer"),a),executeAction(s2t("make"),s,DialogModes.NO);var o=new ActionDescriptor,i=new ActionDescriptor,l=new ActionReference;l.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),o.putReference(s2t("null"),l),i.putEnumerated(s2t("mode"),s2t("blendMode"),s2t(n)),o.putObject(s2t("to"),s2t("layer"),i),executeAction(s2t("set"),o,DialogModes.NO)}function layer_delete(e){var t=new ActionDescriptor,r=new ActionReference;try{if("number"==typeof e)r.putIndex(s2t("layer"),e);else if("string"==typeof e)if(layer_checkExistence(e))r.putName(s2t("layer"),e);else{var n=layer_getIDXbyString(e);r.putIndex(s2t("layer"),n[0])}else void 0===e&&r.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum"));t.putReference(s2t("null"),r),executeAction(s2t("delete"),t,DialogModes.NO)}catch(e){alert("nix zu l√∂schen")}}function layer_getIDXbyName(e){var t=new ActionReference;return t.putProperty(s2t("property"),s2t("itemIndex")),t.putName(s2t("layer"),e),hasBackground()?executeActionGet(t).getInteger(s2t("itemIndex"))-1:executeActionGet(t).getInteger(s2t("itemIndex"))}function layer_getIDXbyString(e){for(var t=1,r=[];layer_checkExistence(t);){try{var n=new RegExp(e,"g");layer_getName(t).match(n)&&r.push(t)}catch(e){}t++}return r}function layer_getLayerType(e){var t=new ActionReference;return t.putProperty(s2t("property"),s2t("layerKind")),"number"==typeof e?t.putIndex(s2t("layer"),e):"string"==typeof e?($.writeln(""),layer_checkExistence(e)?t.putName(s2t("layer"),e):t.putIndex(s2t("layer"),layer_getIDXbyString(e)[0])):void 0===e&&t.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),executeActionGet(t).getInteger(s2t("layerKind"))}function layer_getName(e){try{var t=new ActionReference;return t.putIndex(charIDToTypeID("Lyr "),e),executeActionGet(t).getString(stringIDToTypeID("name"))}catch(e){return e}}function layer_getSolidFillColor(){var e=[],t=new ActionReference;t.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum"));var r=executeActionGet(t).getList(s2t("adjustment")).getObjectValue(0).getObjectValue(s2t("color"));return e.push(Math.round(r.getDouble(s2t("red")))),e.push(Math.round(r.getDouble(s2t("green")))),e.push(Math.round(r.getDouble(s2t("blue")))),e}function layer_makeBackground(){var e=new ActionDescriptor,t=new ActionReference,r=new ActionReference;t.putClass(s2t("backgroundLayer")),e.putReference(s2t("null"),t),r.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),e.putReference(s2t("using"),r),executeAction(s2t("make"),e,DialogModes.NO)}function layer_mergeLayers(){var e=new ActionDescriptor;executeAction(s2t("mergeLayersNew"),e,DialogModes.NO)}function layer_mergeVisible(e){var t=new ActionDescriptor;t.putBoolean(s2t("duplicate"),e),executeAction(s2t("mergeVisible"),t,DialogModes.NO)}function layer_renameByIDX(e,t){if(0!=e){var r=new ActionDescriptor,n=new ActionReference;n.putIndex(s2t("layer"),e),r.putReference(s2t("null"),n);var s=new ActionDescriptor;s.putString(s2t("name"),t),r.putObject(s2t("to"),s2t("layer"),s),executeAction(s2t("set"),r,DialogModes.NO)}}function layer_selectedIDX_get(){var e=[],t=new ActionReference;t.putEnumerated(stringIDToTypeID("document"),stringIDToTypeID("ordinal"),stringIDToTypeID("targetEnum"));var r=executeActionGet(t);if(r.hasKey(stringIDToTypeID("targetLayers")))for(var n=0,s=(r=r.getList(stringIDToTypeID("targetLayers"))).count;n<s;n++)hasBackground()?e.push(r.getReference(n).getIndex()):e.push(r.getReference(n).getIndex()+1);return e}function layer_selectedIDX_set(e){try{if(selectLayers("selectNoLayers"),e.length>0)for(var r=0;r<e.length;r++)selectLayerBySelector(e[r],t)}catch(e){selectLayers("selectNoLayers")}}function layer_selectedID_get(){var e=[],t=new ActionReference;t.putEnumerated(stringIDToTypeID("document"),stringIDToTypeID("ordinal"),stringIDToTypeID("targetEnum"));var r=executeActionGet(t);if(r.hasKey(stringIDToTypeID("targetLayers")))for(var n=0,s=(r=r.getList(stringIDToTypeID("targetLayers"))).count;n<s;n++)ref2=new ActionReference,hasBackground()?ref2.putIndex(s2t("layer"),r.getReference(n).getIndex()):ref2.putIndex(s2t("layer"),r.getReference(n).getIndex()+1),desc2=executeActionGet(ref2),e.push(desc2.getInteger(stringIDToTypeID("layerID")));return e}function layer_selectedID_set(e){selectLayers("selectNoLayers");try{e=arrayCorrect(e)}catch(e){}try{if(e.length>0)for(var r=0;r<e.length;r++)selectLayerByID(e[r],t)}catch(e){alert("error layer_selectedID_set: "+e)}}function layer_shape_create(e,t,r,n,s,a,c,o,i,l,u){var p=new ActionDescriptor,y=new ActionDescriptor,d=new ActionDescriptor,f=new ActionDescriptor,g=new ActionDescriptor,D=new ActionDescriptor,h=new ActionDescriptor,b=new ActionDescriptor,m=new ActionList,v=new ActionReference;v.putClass(s2t("contentLayer")),p.putReference(s2t("null"),v),f.putDouble(s2t("red"),c[0]),f.putDouble(s2t("grain"),c[1]),f.putDouble(s2t("blue"),c[2]),d.putObject(s2t("color"),s2t("RGBColor"),f),y.putObject(s2t("type"),s2t("solidColorLayer"),d),g.putInteger(s2t("unitValueQuadVersion"),1),g.putUnitDouble(s2t("top"),s2t("percentUnit"),t),g.putUnitDouble(s2t("left"),s2t("percentUnit"),r),g.putUnitDouble(s2t("bottom"),s2t("percentUnit"),n),g.putUnitDouble(s2t("right"),s2t("percentUnit"),s),y.putObject(s2t("shape"),s2t(e),g),D.putInteger(s2t("strokeStyleVersion"),2),D.putBoolean(s2t("strokeEnabled"),o),D.putBoolean(s2t("fillEnabled"),a),D.putUnitDouble(s2t("strokeStyleLineWidth"),s2t("pixelsUnit"),l),D.putUnitDouble(s2t("strokeStyleLineDashOffset"),s2t("pointsUnit"),0),D.putDouble(s2t("strokeStyleMiterLimit"),100),D.putEnumerated(s2t("strokeStyleLineCapType"),s2t("strokeStyleLineCapType"),s2t("strokeStyleButtCap")),D.putEnumerated(s2t("strokeStyleLineJoinType"),s2t("strokeStyleLineJoinType"),s2t("strokeStyleMiterJoin")),D.putEnumerated(s2t("strokeStyleLineAlignment"),s2t("strokeStyleLineAlignment"),s2t(u)),D.putBoolean(s2t("strokeStyleScaleLock"),!1),D.putBoolean(s2t("strokeStyleStrokeAdjust"),!1),D.putList(s2t("strokeStyleLineDashSet"),m),D.putEnumerated(s2t("strokeStyleBlendMode"),s2t("blendMode"),s2t("normal")),D.putUnitDouble(s2t("strokeStyleOpacity"),s2t("percentUnit"),100),b.putDouble(s2t("red"),i[0]),b.putDouble(s2t("grain"),i[1]),b.putDouble(s2t("blue"),i[2]),h.putObject(s2t("color"),s2t("RGBColor"),b),D.putObject(s2t("strokeStyleContent"),s2t("solidColorLayer"),h),y.putObject(s2t("strokeStyle"),s2t("strokeStyle"),D),p.putObject(s2t("using"),s2t("contentLayer"),y),executeAction(s2t("make"),p,DialogModes.NO)}function layer_shape_getAngle(e){if(4==layer_getLayerType(e)){var t=layer_selectedIDX_get();gotoLayer_bySelector(e);var r=new ActionReference;r.putEnumerated(s2t("path"),s2t("ordinal"),s2t("targetEnum"));for(var n=executeActionGet(r).getObjectValue(s2t("pathContents")).getList(s2t("pathComponents")),s=[],a=0;a<n.count;a++)for(var c=n.getObjectValue(a).getList(s2t("subpathListKey")),o=0;o<c.count;o++)for(var i=c.getObjectValue(o).getList(s2t("points")),l=0;l<i.count;l++){var u=i.getObjectValue(l).getObjectValue(s2t("anchor")),p=u.getUnitDoubleValue(s2t("horizontal")),y=u.getUnitDoubleValue(s2t("vertical"));s.push({x:p,y:y})}var d=s[1].x-s[0].x,f=(s[1].y-s[0].y)/d,g=Math.atan(f)*(180/Math.PI);return layer_selectedIDX_set(t),g}return!1}function layer_solidColorHSB_change(e,t,r){var n=new ActionDescriptor,s=new ActionDescriptor,a=new ActionDescriptor,c=new ActionReference;c.putEnumerated(s2t("contentLayer"),s2t("ordinal"),s2t("targetEnum")),n.putReference(s2t("null"),c),a.putUnitDouble(s2t("hue"),s2t("angleUnit"),e),a.putDouble(s2t("saturation"),t),a.putDouble(s2t("brightness"),r),s.putObject(s2t("color"),s2t("HSBColorClass"),a),n.putObject(s2t("to"),s2t("solidColorLayer"),s),executeAction(s2t("set"),n,DialogModes.NO)}function layer_transform(e,t,r,n,s,a,c,o,i){var l=new ActionDescriptor,u=new ActionDescriptor,p=new ActionReference;if("topleft"==e)var y="QCSCorner0";else if("topcenter"==e)y="QCSSide0";else if("topright"==e)y="QCSCorner1";else if("midleft"==e)y="QCSSide3";else if("midcenter"==e)y="QCSAverage";else if("midright"==e)y="QCSSide1";else if("bottomleft"==e)y="QCSCorner3";else if("bottomcenter"==e)y="QCSSide2";else if("bottomright"==e)y="QCSCorner2";else y="QCSCorner0";if(o=o||"pixelsUnit",i=i||0,p.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),l.putReference(s2t("null"),p),l.putEnumerated(s2t("freeTransformCenterState"),s2t("quadCenterState"),s2t(y)),u.putUnitDouble(s2t("horizontal"),s2t(o),t),u.putUnitDouble(s2t("vertical"),s2t(o),r),l.putObject(s2t("offset"),s2t("offset"),u),l.putUnitDouble(s2t("angle"),s2t("angleUnit"),i),null!=a){if("%_canvas"==a){var d=app.activeDocument.activeLayer.bounds[2]-app.activeDocument.activeLayer.bounds[0],f=app.activeDocument.activeLayer.bounds[3]-app.activeDocument.activeLayer.bounds[1],g=parseFloat(app.activeDocument.width/d*n),D=parseFloat(app.activeDocument.height/f*s);n&&l.putUnitDouble(s2t("width"),s2t("percentUnit"),g),s&&l.putUnitDouble(s2t("height"),s2t("percentUnit"),D)}else if("%_layer"==a){d=app.activeDocument.activeLayer.bounds[2]-app.activeDocument.activeLayer.bounds[0],f=app.activeDocument.activeLayer.bounds[3]-app.activeDocument.activeLayer.bounds[1],g=parseFloat(d/app.activeDocument.width*n*10),D=parseFloat(f/app.activeDocument.height*s*10);n&&l.putUnitDouble(s2t("width"),s2t("percentUnit"),g),s&&l.putUnitDouble(s2t("height"),s2t("percentUnit"),D)}else if("px"==a){g=parseFloat(n/app.activeDocument.width*100),D=parseFloat(s/app.activeDocument.height*100);n&&l.putUnitDouble(s2t("width"),s2t("percentUnit"),g),s&&l.putUnitDouble(s2t("height"),s2t("percentUnit"),D)}(n||s)&&c&&l.putBoolean(s2t("linked"),c)}l.putEnumerated(s2t("interfaceIconFrameDimmed"),s2t("interpolationType"),s2t("bicubic")),executeAction(s2t("transform"),l,DialogModes.NO)}function selectLayerByID(e,t){try{var r=new ActionDescriptor,n=new ActionReference;if("remove"!=t&&t)s="addToSelection";else var s="removeFromSelection";n.putIdentifier(s2t("layer"),e),r.putReference(s2t("null"),n),r.putEnumerated(s2t("selectionModifier"),s2t("selectionModifierType"),s2t(s)),r.putBoolean(s2t("makeVisible"),!1),executeAction(s2t("select"),r,DialogModes.NO)}catch(e){}}function selectLayerBySelector(e,t){try{var r=new ActionDescriptor,n=new ActionReference;if("remove"!=t&&t)s="addToSelection";else var s="removeFromSelection";isNaN(e)?n.putName(s2t("layer"),e):n.putIndex(s2t("layer"),e),r.putReference(s2t("null"),n),r.putEnumerated(s2t("selectionModifier"),s2t("selectionModifierType"),s2t(s)),r.putBoolean(s2t("makeVisible"),!1),executeAction(s2t("select"),r,DialogModes.NO)}catch(e){}}function select_nextLayer(e){var t=app.activeDocument.duplicate(),r=(t.activeLayer,t.layers[t.layers.length-1]),n=d();t.activeLayer=r;var s=r.isBackgroundLayer;s&&(r.isBackgroundLayer=!1);try{f(n)}catch(e){}var a=new ActionDescriptor,c=new ActionReference;c.putEnumerated(cTID("Lyr "),cTID("Ordn"),cTID("Trgt")),a.putReference(cTID("null"),c),executeAction(sTID("selectAllLayers"),a,DialogModes.NO);var o=new ActionDescriptor,i=new ActionList,l=new ActionReference;l.putEnumerated(cTID("Lyr "),cTID("Ordn"),cTID("Trgt")),i.putReference(l),o.putList(cTID("null"),i),executeAction(cTID("Shw "),o,DialogModes.NO),s&&(r.isBackgroundLayer=!0),f(n);try{!function(e){var t;"up"==e||"above"==e?t=cTID("Frwr"):"down"!=e&&"below"!=e||(t=cTID("Bckw"));var r=new ActionDescriptor,n=new ActionReference;n.putEnumerated(cTID("Lyr "),cTID("Ordn"),t),r.putReference(cTID("null"),n),executeAction(cTID("slct"),r,DialogModes.NO)}(e)}catch(e){}var u=d();t.close(SaveOptions.DONOTSAVECHANGES);try{f(u)}catch(e){var p=new ActionDescriptor,y=new ActionReference;y.putName(cTID("Lyr "),"Background"),p.putReference(cTID("null"),y),executeAction(cTID("slct"),p,DialogModes.NO)}function d(){var e=new ActionReference;return e.putProperty(s2t("property"),s2t("layerID")),e.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),executeActionGet(e).getInteger(s2t("layerID"))}function f(e,t){var r=new ActionDescriptor,n=new ActionReference;t=null==t?t=!1:t,n.putIdentifier(cTID("Lyr "),e),r.putReference(cTID("null"),n),t&&r.putEnumerated(sTID("selectionModifier"),sTID("selectionModifierType"),sTID("addToSelection")),r.putBoolean(cTID("MkVs"),!1),executeAction(cTID("slct"),r,DialogModes.NO)}}function select_nextLayer_simple(e,t){var r,n=new ActionDescriptor,s=new ActionReference;"up"==e||"above"==e?r=s2t("forwardEnum"):"down"!=e&&"below"!=e||(r=s2t("backwardEnum")),s.putEnumerated(s2t("layer"),s2t("ordinal"),r),n.putReference(s2t("null"),s),t=null==t?t=!1:t,n.putBoolean(s2t("makeVisible"),t),executeAction(s2t("select"),n,DialogModes.NO)}function setLayerOpacity(e){var t=new ActionDescriptor,r=new ActionDescriptor,n=new ActionReference;n.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),t.putReference(s2t("null"),n),r.putUnitDouble(s2t("opacity"),s2t("percentUnit"),e),t.putObject(s2t("to"),s2t("layer"),r),executeAction(s2t("set"),t,DialogModes.NO)}function setMaskVisibility(e){var t=new ActionDescriptor,r=new ActionDescriptor,n=new ActionReference;if(0==e||"hide"==e)var s=!1;else if(1==e||"show"==e)s=!0;else if("toggle"==e||"X"==e)if(getMaskVisibility())s=!1;else s=!0;try{n.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),t.putReference(s2t("null"),n),r.putBoolean(s2t("userMaskEnabled"),s),t.putObject(s2t("to"),s2t("layer"),r),executeAction(s2t("set"),t,DialogModes.NO)}catch(e){}}function setMaskVisibility_bySelector(e,t){var r=new ActionDescriptor,n=new ActionDescriptor,s=new ActionReference;if(0==e||"hide"==e)var a=!1;else if(1==e||"show"==e)a=!0;else if("toggle"==e||"X"==e)if(getMaskVisibility())a=!1;else a=!0;try{"number"==typeof t&&s.putIndex(s2t("layer"),t),"string"==typeof t&&(layer_checkExistence(t)?s.putName(s2t("layer"),t):s.putIndex(s2t("layer"),layer_getIDXbyString(t)[0])),void 0===t&&s.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),r.putReference(s2t("null"),s),n.putBoolean(s2t("userMaskEnabled"),a),r.putObject(s2t("to"),s2t("layer"),n),executeAction(s2t("set"),r,DialogModes.NO)}catch(e){alert(e)}}