/*
// BEGIN__HARVEST_EXCEPTION_ZSTRING
<javascriptresource>
<name>[GitDev] Startschuss</name>
<about>Photoshop-Script to start every retouch | By Simon Adrian | http://www.SimonAdrian.de</about>
<category>GitHub dev</category>
</javascriptresource>
// END__HARVEST_EXCEPTION_ZSTRING
*/
//@include "functions/basic.jsx";
// #target photoshop
// Wenn debug auf 'false' steht, wird das Skript in einem einzigen Protokoll-Schritt ausgeführt.
const debug=!1;function run(){prefSave(),prefSet(),translate(),gray2rgb(),cmyk2rgb(),noProfile(),nameOriginal("Original"),
//~     adjustShadowsHighlights()
adjustWhiteBackground("WEISS",normal,keine),
//~     deleteMask()
createFolder("Einstellungen"),adjustAutotone("AutoTonwert",normal,grau),deleteMask(),adjustGradation("Gradation neutral",normal,grau),deleteMask(),
//~ simpleDodgeBurn ("Dodge & Burn", luminanz, grau)
neutralizerDodgeBurn("neutralizer",luminanz,grau,"Abwedeln/Nachbelichten",ineinanderkopieren,grau),adjustSelectiveColor("Selektive Farbe",normal,violett),adjustSaturation("Sättigung Farbe",normal,blau),adjustSaturation("Sättigung Luminanz",luminanz,gruen),adjustBalance("Farbe in Balance",normal,gelb),adjustGradation("Gradation Kontrast",normal,orange),adjustBrightContrast("Hell + Kontrast",normal,rot),adjustVibrance("Dynamik",normal,orange),prefReset(),ansicht()}
// FUNCTIONS
function checkDoc(){
// if selected Layer is a PixelLayer?
app.documents.length<=0?alert("Öffne zunächst ein Bild! - Abbruch"):app.activeDocument.activeLayer.kind!=(LayerKind.LEVELS||LayerKind.CURVES||LayerKind.TEXT||LayerKind.SOLIDFILL||LayerKind.GRADIENTFILL||LayerKind.PATTERNFILL||LayerKind.COLORBALANCE||LayerKind.BRIGHTNESSCONTRAST||LayerKind.HUESATURATION||LayerKind.SELECTIVECOLOR||LayerKind.CHANNELMIXER||LayerKind.GRADIENTMAP||LayerKind.INVERSION||LayerKind.THRESHOLD||LayerKind.POSTERIZE||LayerKind.SMARTOBJECT||LayerKind.PHOTOFILTER||LayerKind.EXPOSURE||LayerKind.LAYER3D||LayerKind.VIDEO||LayerKind.BLACKANDWHITE||LayerKind.VIBRANCE)?doc=app.activeDocument:alert("Wähle eine Pixel-Ebene aus! - Abbruch")}function translate(){
// FARBEN =================================================================================== //
keine="None",rot="Rd  ",orange="Orng",gelb="Ylw ",gruen="Grn ",blau="Bl  ",violett="Vlt ",grau="Gry ",
// BLENDMODI ================================================================================ //
normal="Nrml",// NORMAL          Normal
sprenkeln="Dslv",// DISSOLVE        Sprenkeln
//--------------------------------------------------------------------------------------------//
abdunkeln="Drkn",// DARKEN          Abdunkeln
multiplizieren="Mltp",// MULTIPLY        Multiplizieren
farbig_nachbelichten="CBrn",// COLORBURN       Farbig nachbelichten
linear_nachbelichten="linearBurn",// LINEARBURN      Linear nachbelichten
dunklere_farbe="darkerColor",
//--------------------------------------------------------------------------------------------//
aufhellen="Lghn",// LIGHTEN         Aufhellen
negativ_multiplizieren="Scrn",// SCREEN          Negativ multiplizieren
farbig_abwedeln="CDdg",// COLORDODGE      Farbig abwedeln
linear_abwedeln="linearDodge",// LINEARDODGE     Linear abwedeln
linear_abwedeln="lighterColor",// hellere Farbe
//--------------------------------------------------------------------------------------------//
ineinanderkopieren="Ovrl",// OVERLAY         Ineinanderkopieren
weiches_licht="SftL",// SOFTLIGHT       Weiches Licht
hartes_licht="HrdL",// HARDLIGHT       Hartes Licht
strahlendes_licht="vividLight",// VIVIDLIGHT      Strahlendes Licht
lineares_licht="linearLight",// LINEARLIGHT     Lineares Licht
lichtpunkte="pinLight",// PINLIGHT        Lichtpunkte
hart_mischen="hardMix",// HARDMIX         Hart mischen
//--------------------------------------------------------------------------------------------//
differenz="Dfrn",// DIFFERENCE      Differenz
ausschluss="Xclu",// EXCLUSION       Ausschluss
subtrahieren="blendSubtraction",// SUBTRACT        Subtrahieren
dividieren="blendDivide",// DIVIDE          Dividieren
//--------------------------------------------------------------------------------------------//
farbton="H   ",// HUE             Farbton
sättigung="Strt",// SATURATION      Sättigung
farbe="Clr ",// COLORBLEND      Farbe
luminanz="Lmns"}function gray2rgb(){activeDocument.mode==DocumentMode.GRAYSCALE&&app.activeDocument.convertProfile("eciRGB v2",Intent.RELATIVECOLORIMETRIC,!0,!1)}function cmyk2rgb(){activeDocument.mode==DocumentMode.CMYK&&app.activeDocument.convertProfile("eciRGB v2",Intent.RELATIVECOLORIMETRIC,!0,!1)}function nameOriginal(e){var t=stringIDToTypeID("newPlacedLayer");executeAction(t,void 0,DialogModes.NO),doc.activeLayer.name=e}function createFolder(e){function t(e){return app.charIDToTypeID(e)}function n(e){return app.stringIDToTypeID(e)}var r=new ActionDescriptor,o=new ActionReference;o.putClass(n("layerSection")),r.putReference(t("null"),o);var u=new ActionDescriptor;u.putString(t("Nm  "),e),r.putObject(t("Usng"),n("layerSection"),u),executeAction(t("Mk  "),r,DialogModes.NO)}function AutoTon_long(e,t){var n=charIDToTypeID("Mk  "),r=new ActionDescriptor,o=charIDToTypeID("null"),u=new ActionReference,i=charIDToTypeID("AdjL");u.putClass(i),r.putReference(o,u);var c=charIDToTypeID("Usng"),a=new ActionDescriptor,p=charIDToTypeID("Nm  ");a.putString(p,e);var l=charIDToTypeID("Clr "),s=(l=charIDToTypeID("Clr "),charIDToTypeID(t));a.putEnumerated(l,l,s);var d=charIDToTypeID("Type"),D=new ActionDescriptor,A=stringIDToTypeID("presetKind"),g=stringIDToTypeID("presetKindType"),T=stringIDToTypeID("presetKindDefault");D.putEnumerated(A,g,T);var I=charIDToTypeID("Adjs"),f=new ActionList,y=new ActionDescriptor,L=charIDToTypeID("Chnl"),m=new ActionReference,C=(charIDToTypeID("Chnl"),L=charIDToTypeID("Chnl"),charIDToTypeID("Cmps"));m.putEnumerated(L,L,C),y.putReference(L,m);var w=charIDToTypeID("Auto");y.putBoolean(w,!0);var h=charIDToTypeID("LvlA");f.putObject(h,y),D.putList(I,f);var v=charIDToTypeID("Lvls");a.putObject(d,v,D);i=charIDToTypeID("AdjL");r.putObject(c,i,a),executeAction(n,r,DialogModes.NO)}function adjustAutotone(e,t,n){function r(e){return app.charIDToTypeID(e)}function o(e){return app.stringIDToTypeID(e)}var u=new ActionDescriptor,i=new ActionReference;i.putClass(r("AdjL")),u.putReference(r("null"),i);var c=new ActionDescriptor;c.putString(r("Nm  "),e),c.putEnumerated(r("Md  "),r("BlnM"),r(t)),c.putEnumerated(r("Clr "),r("Clr "),r(n));var a=new ActionDescriptor;a.putEnumerated(o("presetKind"),o("presetKindType"),o("presetKindDefault"));var p=new ActionList,l=new ActionDescriptor,s=new ActionReference;s.putEnumerated(r("Chnl"),r("Chnl"),r("Cmps")),l.putReference(r("Chnl"),s),l.putBoolean(r("Auto"),!0),p.putObject(r("LvlA"),l),a.putList(r("Adjs"),p),c.putObject(r("Type"),r("Lvls"),a),u.putObject(r("Usng"),r("AdjL"),c),executeAction(r("Mk  "),u,DialogModes.NO)}function simpleDodgeBurn(e,t,n){function r(e){return app.charIDToTypeID(e)}var o=new ActionDescriptor,u=new ActionReference;u.putClass(r("Lyr ")),o.putReference(r("null"),u);var i=new ActionDescriptor;i.putString(r("Nm  "),e),i.putEnumerated(r("Md  "),r("BlnM"),r(t)),i.putBoolean(r("FlNt"),!0),i.putEnumerated(r("Clr "),r("Clr "),r(n)),o.putObject(r("Usng"),r("Lyr "),i),executeAction(r("Mk  "),o,DialogModes.NO)}function neutralizerDodgeBurn(e,t,n,r,o,u){function i(e){return app.charIDToTypeID(e)}function c(e){return app.stringIDToTypeID(e)}
// Black-White Layer set to luminace with no influence
var a=new ActionDescriptor,p=new ActionReference;p.putClass(i("AdjL")),a.putReference(i("null"),p);var l=new ActionDescriptor;l.putString(i("Nm  "),e),l.putEnumerated(i("Md  "),i("BlnM"),i(t)),l.putEnumerated(i("Clr "),i("Clr "),i(n));var s=new ActionDescriptor;s.putEnumerated(c("presetKind"),c("presetKindType"),c("presetKindDefault")),s.putInteger(i("Rd  "),30),s.putInteger(i("Yllw"),89),s.putInteger(i("Grn "),59),s.putInteger(i("Cyn "),70),s.putInteger(i("Bl  "),11),s.putInteger(i("Mgnt"),41),s.putBoolean(c("useTint"),!1);var d=new ActionDescriptor;d.putDouble(i("Rd  "),127),d.putDouble(i("Grn "),127),d.putDouble(i("Bl  "),127),s.putObject(c("tintColor"),i("RGBC"),d),l.putObject(i("Type"),i("BanW"),s),a.putObject(i("Usng"),i("AdjL"),l),executeAction(i("Mk  "),a,DialogModes.NO),deleteMask();
// midtone Gray set to overlay
var D=new ActionDescriptor,A=new ActionReference;A.putClass(i("Lyr ")),D.putReference(i("null"),A);var g=new ActionDescriptor;g.putString(i("Nm  "),r),g.putEnumerated(i("Md  "),i("BlnM"),i(o)),g.putBoolean(i("Grup"),!0),g.putBoolean(i("FlNt"),!0),g.putEnumerated(i("Clr "),i("Clr "),i(u)),D.putObject(i("Usng"),i("Lyr "),g),executeAction(i("Mk  "),D,DialogModes.NO)}function adjustGradation(e,t,n){function r(e){return app.charIDToTypeID(e)}function o(e){return app.stringIDToTypeID(e)}var u=new ActionDescriptor,i=new ActionReference;i.putClass(r("AdjL")),u.putReference(r("null"),i);var c=new ActionDescriptor;c.putString(r("Nm  "),e),c.putEnumerated(r("Md  "),r("BlnM"),r(t)),c.putEnumerated(r("Clr "),r("Clr "),r(n));var a=new ActionDescriptor;a.putEnumerated(o("presetKind"),o("presetKindType"),o("presetKindDefault")),c.putObject(r("Type"),r("Crvs"),a),u.putObject(r("Usng"),r("AdjL"),c),executeAction(r("Mk  "),u,DialogModes.NO)}function deleteMask(){function e(e){return app.charIDToTypeID(e)}var t=new ActionDescriptor,n=new ActionReference;n.putEnumerated(e("Chnl"),e("Ordn"),e("Trgt")),t.putReference(e("null"),n),executeAction(e("Dlt "),t,DialogModes.NO)}function adjustSelectiveColor(e,t,n){function r(e){return app.charIDToTypeID(e)}function o(e){return app.stringIDToTypeID(e)}var u=new ActionDescriptor,i=new ActionReference;i.putClass(r("AdjL")),u.putReference(r("null"),i);var c=new ActionDescriptor;c.putString(r("Nm  "),e),c.putEnumerated(r("Md  "),r("BlnM"),r(t)),c.putEnumerated(r("Clr "),r("Clr "),r(n));var a=new ActionDescriptor;a.putEnumerated(o("presetKind"),o("presetKindType"),o("presetKindDefault")),c.putObject(r("Type"),r("SlcC"),a),u.putObject(r("Usng"),r("AdjL"),c),executeAction(r("Mk  "),u,DialogModes.NO)}function adjustSaturation(e,t,n){function r(e){return app.charIDToTypeID(e)}function o(e){return app.stringIDToTypeID(e)}var u=new ActionDescriptor,i=new ActionReference;i.putClass(r("AdjL")),u.putReference(r("null"),i);var c=new ActionDescriptor;c.putString(r("Nm  "),e),c.putEnumerated(r("Md  "),r("BlnM"),r(t)),c.putEnumerated(r("Clr "),r("Clr "),r(n));var a=new ActionDescriptor;a.putEnumerated(o("presetKind"),o("presetKindType"),o("presetKindDefault")),a.putBoolean(r("Clrz"),!1),c.putObject(r("Type"),r("HStr"),a),u.putObject(r("Usng"),r("AdjL"),c),executeAction(r("Mk  "),u,DialogModes.NO)}function adjustBalance(e,t,n){function r(e){return app.charIDToTypeID(e)}var o=new ActionDescriptor,u=new ActionReference;u.putClass(r("AdjL")),o.putReference(r("null"),u);var i=new ActionDescriptor;i.putString(r("Nm  "),e),i.putEnumerated(r("Md  "),r("BlnM"),r(t)),i.putEnumerated(r("Clr "),r("Clr "),r(n));var c=new ActionDescriptor,a=new ActionList;a.putInteger(0),a.putInteger(0),a.putInteger(0),c.putList(r("ShdL"),a);var p=new ActionList;p.putInteger(0),p.putInteger(0),p.putInteger(0),c.putList(r("MdtL"),p);var l=new ActionList;l.putInteger(0),l.putInteger(0),l.putInteger(0),c.putList(r("HghL"),l),c.putBoolean(r("PrsL"),!0),i.putObject(r("Type"),r("ClrB"),c),o.putObject(r("Usng"),r("AdjL"),i),executeAction(r("Mk  "),o,DialogModes.NO)}function adjustBrightContrast(e,t,n){function r(e){return app.charIDToTypeID(e)}var o=new ActionDescriptor,u=new ActionReference;u.putClass(r("AdjL")),o.putReference(r("null"),u);var i=new ActionDescriptor;i.putString(r("Nm  "),e),i.putEnumerated(r("Md  "),r("BlnM"),r(t)),i.putEnumerated(r("Clr "),r("Clr "),r(n));var c,a=new ActionDescriptor;a.putBoolean((c="useLegacy",app.stringIDToTypeID(c)),!1),i.putObject(r("Type"),r("BrgC"),a),o.putObject(r("Usng"),r("AdjL"),i),executeAction(r("Mk  "),o,DialogModes.NO)}function adjustVibrance(e,t,n){function r(e){return app.charIDToTypeID(e)}var o=new ActionDescriptor,u=new ActionReference;u.putClass(r("AdjL")),o.putReference(r("null"),u);var i,c=new ActionDescriptor;c.putString(r("Nm  "),e),c.putEnumerated(r("Md  "),r("BlnM"),r(t)),c.putEnumerated(r("Clr "),r("Clr "),r(n)),c.putClass(r("Type"),(i="vibrance",app.stringIDToTypeID(i))),o.putObject(r("Usng"),r("AdjL"),c),executeAction(r("Mk  "),o,DialogModes.NO)}function adjustShadowsHighlights(){function e(e){return app.charIDToTypeID(e)}function t(e){return app.stringIDToTypeID(e)}var n=new ActionDescriptor,r=new ActionDescriptor;r.putUnitDouble(e("Amnt"),e("#Prc"),0),r.putUnitDouble(e("Wdth"),e("#Prc"),50),r.putInteger(e("Rds "),30),n.putObject(e("sdwM"),t("adaptCorrectTones"),r);var o=new ActionDescriptor;o.putUnitDouble(e("Amnt"),e("#Prc"),0),o.putUnitDouble(e("Wdth"),e("#Prc"),50),o.putInteger(e("Rds "),30),n.putObject(e("hglM"),t("adaptCorrectTones"),o),n.putDouble(e("BlcC"),0),n.putDouble(e("WhtC"),0),n.putInteger(e("Cntr"),0),n.putInteger(e("ClrC"),20),executeAction(t("adaptCorrect"),n,DialogModes.NO)}function adjustWhiteBackground(e,t,n){function r(e){return app.charIDToTypeID(e)}function o(e){return app.stringIDToTypeID(e)}
// weisse Füllebene
var u=new ActionDescriptor,i=new ActionReference;i.putClass(o("contentLayer")),u.putReference(r("null"),i);var c=new ActionDescriptor;c.putString(r("Nm  "),e),c.putEnumerated(r("Md  "),r("BlnM"),r(t)),c.putEnumerated(r("Clr "),r("Clr "),r(n));var a=new ActionDescriptor,p=new ActionDescriptor;p.putDouble(r("Rd  "),255),p.putDouble(r("Grn "),255),p.putDouble(r("Bl  "),255),a.putObject(r("Clr "),r("RGBC"),p),c.putObject(r("Type"),o("solidColorLayer"),a),u.putObject(r("Usng"),o("contentLayer"),c),executeAction(r("Mk  "),u,DialogModes.NO);
// in den Hintergrund schieben
var l=new ActionDescriptor,s=new ActionReference;s.putEnumerated(r("Lyr "),r("Ordn"),r("Trgt")),l.putReference(r("null"),s);var d=new ActionReference;d.putEnumerated(r("Lyr "),r("Ordn"),r("Back")),l.putReference(r("T   "),d),executeAction(o("move"),l,DialogModes.NO);
// Maske auswählen
var D=new ActionDescriptor,A=new ActionReference;A.putEnumerated(r("Chnl"),r("Chnl"),r("Msk ")),D.putReference(r("null"),A),D.putBoolean(r("MkVs"),!1),executeAction(r("slct"),D,DialogModes.NO);
// Maske löschen
var g=new ActionDescriptor,T=new ActionReference;T.putEnumerated(r("Chnl"),r("Ordn"),r("Trgt")),g.putReference(r("null"),T),executeAction(r("Dlt "),g,DialogModes.NO);
// zur darüber liegenden Ebene wechseln
var I=new ActionDescriptor,f=new ActionReference;f.putEnumerated(r("Lyr "),r("Ordn"),r("Frwr")),I.putReference(r("null"),f),I.putBoolean(r("MkVs"),!1),executeAction(r("slct"),I,DialogModes.NO)}function ansicht(){function e(e){return app.charIDToTypeID(e)}
/* Ebene "AutoTonwert" auswählen */
var t=new ActionDescriptor;(u=new ActionReference).putName(e("Lyr "),"AutoTonwert"),t.putReference(e("null"),u),t.putBoolean(e("MkVs"),!1),executeAction(e("slct"),t,DialogModes.NO);
/* Ebene ausblenden */
var n=new ActionDescriptor,r=new ActionList,o=new ActionReference;o.putEnumerated(e("Lyr "),e("Ordn"),e("Trgt")),r.putReference(o),n.putList(e("null"),r),executeAction(e("Hd  "),n,DialogModes.NO);
/* Ebene "Gradation neutral" auswählen */
var u;t=new ActionDescriptor;(u=new ActionReference).putName(e("Lyr "),"Gradation neutral"),t.putReference(e("null"),u),t.putBoolean(e("MkVs"),!1),executeAction(e("slct"),t,DialogModes.NO)}checkDoc(),app.documents.length>0&&app.activeDocument.suspendHistory("Startschuss","run();");