//@include "./assets/json2.js";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/basic.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/pref.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/utils.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/LUT-dodge.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/LUT-burn.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/LUT-maskPreview.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/LUT-maskPreview_v2.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/dialog.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/ready.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/view.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/layer.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/save.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/loopFiles.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/meta.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/selection.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/channel.jsx";
//@include "/Users/adrians/Arbeit/GitHub/SimonScript/build/A__psScripts/functions/neural_depthmap.jsx";
//@include "./assets/json2.js"
var jsonFilePath="~/.ss_settings.json",jsonData=loadJSON(jsonFilePath);function loadJSON(t){var e,n=new File(t);if(!n.exists)return alert("Die JSON-Datei konnte nicht gefunden werden."),null;n.open("r"),e=n.read(),n.close();try{return JSON.parse(e)}catch(t){return alert("Fehler beim Parsen der JSON-Datei:\n"+t),null}}function jsonValue(t){for(var e=0;e<jsonData.length;e++)if(void 0!==jsonData[e][t])return jsonData[e][t];return null}const debug=Boolean(jsonValue("Debug"));function make(t,e,n,o,r,i,s,a,u,l,p,c,D,b,y,g,d,f,m,h,S,U,L,A,v,k){var w=function(t){return app.stringIDToTypeID(t)},O=new ActionDescriptor,C=new ActionDescriptor,x=new ActionDescriptor,j=new ActionDescriptor,R=new ActionDescriptor,E=new ActionDescriptor,B=new ActionDescriptor,M=new ActionDescriptor,T=new ActionList,_=new ActionReference;_.putClass(w("contentLayer")),B.putReference(w("null"),_),C.putDouble(w("red"),t),C.putDouble(w("grain"),e),C.putDouble(w("blue"),n),O.putObject(w("color"),w("RGBColor"),C),M.putObject(w("type"),w("solidColorLayer"),O),x.putInteger(w("unitValueQuadVersion"),o),x.putUnitDouble(w("top"),w("pixelsUnit"),r),x.putUnitDouble(w("left"),w("pixelsUnit"),i),x.putUnitDouble(w("bottom"),w("pixelsUnit"),s),x.putUnitDouble(w("right"),w("pixelsUnit"),a),x.putUnitDouble(w("topRight"),w("pixelsUnit"),u),x.putUnitDouble(w("topLeft"),w("pixelsUnit"),l),x.putUnitDouble(w("bottomLeft"),w("pixelsUnit"),p),x.putUnitDouble(w("bottomRight"),w("pixelsUnit"),c),M.putObject(w("shape"),w("rectangle"),x),j.putInteger(w("strokeStyleVersion"),D),j.putBoolean(w("strokeEnabled"),b),j.putBoolean(w("fillEnabled"),y),j.putUnitDouble(w("strokeStyleLineWidth"),w("pixelsUnit"),g),j.putUnitDouble(w("strokeStyleLineDashOffset"),w("pointsUnit"),d),j.putDouble(w("strokeStyleMiterLimit"),f),j.putEnumerated(w("strokeStyleLineCapType"),w("strokeStyleLineCapType"),w("strokeStyleButtCap")),j.putEnumerated(w("strokeStyleLineJoinType"),w("strokeStyleLineJoinType"),w("strokeStyleMiterJoin")),j.putEnumerated(w("strokeStyleLineAlignment"),w("strokeStyleLineAlignment"),w("strokeStyleAlignCenter")),j.putBoolean(w("strokeStyleScaleLock"),m),j.putBoolean(w("strokeStyleStrokeAdjust"),h),j.putList(w("strokeStyleLineDashSet"),T),j.putEnumerated(w("strokeStyleBlendMode"),w("blendMode"),w("normal")),j.putUnitDouble(w("strokeStyleOpacity"),w("percentUnit"),S),E.putDouble(w("redFloat"),U),E.putDouble(w("greenFloat"),L),E.putDouble(w("blueFloat"),A),R.putObject(w("color"),w("RGBColor"),E),j.putObject(w("strokeStyleContent"),w("solidColorLayer"),R),j.putDouble(w("strokeStyleResolution"),v),M.putObject(w("strokeStyle"),w("strokeStyle"),j),B.putObject(w("using"),w("contentLayer"),M),B.putInteger(w("layerID"),k),executeAction(w("make"),B,DialogModes.NO)}var rectangleTop=7.8901213091,rectangleLeft=2.8753896499,rectangleBottom=83.6977036271,rectangleRight=88.4559117911;function form_create(t,e,n,o,r){var i=new ActionDescriptor,s=new ActionDescriptor,a=new ActionDescriptor,u=new ActionDescriptor,l=new ActionDescriptor,p=new ActionReference;p.putClass(s2t("contentLayer")),i.putReference(s2t("null"),p),u.putDouble(s2t("red"),255),u.putDouble(s2t("grain"),255),u.putDouble(s2t("blue"),255),a.putObject(s2t("color"),s2t("RGBColor"),u),s.putObject(s2t("type"),s2t("solidColorLayer"),a),l.putUnitDouble(s2t("top"),s2t("percentUnit"),e),l.putUnitDouble(s2t("left"),s2t("percentUnit"),n),l.putUnitDouble(s2t("bottom"),s2t("percentUnit"),o),l.putUnitDouble(s2t("right"),s2t("percentUnit"),r),s.putObject(s2t("shape"),s2t(t),l),i.putObject(s2t("using"),s2t("contentLayer"),s),executeAction(s2t("make"),i,DialogModes.NO)}function changePathDetails(t,e,n){var o=function(t){return app.stringIDToTypeID(t)},r=new ActionDescriptor;r.putInteger(o("keyOriginType"),t),r.putDouble(o("keyOriginResolution"),e),r.putInteger(o("keyActionMode"),n),executeAction(o("changePathDetails"),r,DialogModes.NO)}function changePathDetails2(t,e){var n=new ActionDescriptor;n.putInteger(s2t("keyOriginType"),t),n.putInteger(s2t("keyActionMode"),e),executeAction(s2t("changePathDetails"),n,DialogModes.NO)}s2t=stringIDToTypeID,(ref=new ActionReference).putProperty(s2t("property"),s2t("layerKind")),ref.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum"));var activeLayerType=executeActionGet(ref).getInteger(s2t("layerKind"));function transform(t,e){var n=new ActionDescriptor,o=new ActionDescriptor,r=new ActionReference;r.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),n.putReference(s2t("null"),r),n.putEnumerated(s2t("freeTransformCenterState"),s2t("quadCenterState"),s2t("QCSCorner0")),o.putUnitDouble(s2t("horizontal"),s2t("distanceUnit"),t),o.putUnitDouble(s2t("vertical"),s2t("distanceUnit"),e),n.putObject(s2t("offset"),s2t("offset"),o),n.putEnumerated(s2t("interfaceIconFrameDimmed"),s2t("interpolationType"),s2t("bicubic")),executeAction(s2t("transform"),n,DialogModes.NO)}function transform(t,e,n){var o=new ActionDescriptor,r=new ActionDescriptor,i=new ActionReference;i.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),o.putReference(s2t("null"),i),o.putEnumerated(s2t("freeTransformCenterState"),s2t("quadCenterState"),s2t("QCSCorner0")),r.putUnitDouble(s2t("horizontal"),s2t("distanceUnit"),t),r.putUnitDouble(s2t("vertical"),s2t("distanceUnit"),e),o.putObject(s2t("offset"),s2t("offset"),r),o.putUnitDouble(s2t("angle"),s2t("angleUnit"),n),o.putEnumerated(s2t("interfaceIconFrameDimmed"),s2t("interpolationType"),s2t("bicubic")),executeAction(s2t("transform"),o,DialogModes.NO)}function calculateAngle(t,e,n,o){var r=o-e,i=n-t;return Math.atan2(r,i)*(180/Math.PI)}var x1=-45.5223191802766,y1=-27.555118111,x2=457.124593396448,y2=-71.5310247177696,angleXX=-1*calculateAngle(x1,y1,x2,y2);function layer_transform2(t,e,n,o,r,i,s,a,u){var l=new ActionDescriptor,p=new ActionDescriptor,c=new ActionReference;if("topleft"==t)var D="QCSCorner0";else if("topcenter"==t)D="QCSSide0";else if("topright"==t)D="QCSCorner1";else if("midleft"==t)D="QCSSide3";else if("midcenter"==t)D="QCSAverage";else if("midright"==t)D="QCSSide1";else if("bottomleft"==t)D="QCSCorner3";else if("bottomcenter"==t)D="QCSSide2";else if("bottomright"==t)D="QCSCorner2";else D="QCSCorner0";if(a=a||"pixelsUnit",u=u||0,c.putEnumerated(s2t("layer"),s2t("ordinal"),s2t("targetEnum")),l.putReference(s2t("null"),c),l.putEnumerated(s2t("freeTransformCenterState"),s2t("quadCenterState"),s2t(D)),p.putUnitDouble(s2t("horizontal"),s2t(a),e),p.putUnitDouble(s2t("vertical"),s2t(a),n),l.putObject(s2t("offset"),s2t("offset"),p),l.putUnitDouble(s2t("angle"),s2t("angleUnit"),-1*u),"%_canvas"==i){var b=app.activeDocument.activeLayer.bounds[2]-app.activeDocument.activeLayer.bounds[0],y=app.activeDocument.activeLayer.bounds[3]-app.activeDocument.activeLayer.bounds[1],g=parseFloat(app.activeDocument.width/b*o),d=parseFloat(app.activeDocument.height/y*r);o&&l.putUnitDouble(s2t("width"),s2t("percentUnit"),g),r&&l.putUnitDouble(s2t("height"),s2t("percentUnit"),d)}else if("%_layer"==i){b=app.activeDocument.activeLayer.bounds[2]-app.activeDocument.activeLayer.bounds[0],y=app.activeDocument.activeLayer.bounds[3]-app.activeDocument.activeLayer.bounds[1],g=parseFloat(b/app.activeDocument.width*o*10),d=parseFloat(y/app.activeDocument.height*r*10);o&&l.putUnitDouble(s2t("width"),s2t("percentUnit"),g),r&&l.putUnitDouble(s2t("height"),s2t("percentUnit"),d)}else if("px"==i){g=parseFloat(o/app.activeDocument.width*100),d=parseFloat(r/app.activeDocument.height*100);o&&l.putUnitDouble(s2t("width"),s2t("percentUnit"),g),r&&l.putUnitDouble(s2t("height"),s2t("percentUnit"),d)}(o||r)&&s&&l.putBoolean(s2t("linked"),s),l.putEnumerated(s2t("interfaceIconFrameDimmed"),s2t("interpolationType"),s2t("bicubic")),executeAction(s2t("transform"),l,DialogModes.NO)}function getAngleofShape(){var e=layer_shape_getAngle("Beschnitt");$.writeln(e),selectLayers("selectAllLayers"),layer_transform("midcenter",0,0,void 0,void 0,void 0,t,"distanceUnit",-1*e),gotoLayer_bySelector("Beschnitt"),vectorMask2seletion(),crop_bySelection()}function setBeschnitt(){startRulerUnits=app.preferences.rulerUnits,app.preferences.rulerUnits=Units.POINTS;var t,e,n,o,r,i,s,a,u,l,p,c,D,b,y,g,d,f,m,h,S,U=function(t,e){$.writeln("shapeDimension_beschnitt: "+t.topLeft.x);var n=Math.max(t.topLeft.x,e.topLeft.x),o=Math.max(t.topLeft.y,e.topLeft.y),r=Math.min(t.bottomRight.x,e.bottomRight.x),i=Math.min(t.bottomRight.y,e.bottomRight.y);return n<r&&o<i?{topLeft:[n,o],bottomRight:[r,i],width:r-n,height:i-o}:null}(L("Beschnitt"),L("Ansicht"));function L(t){if(4===layer_getLayerType(t)){var e=layer_selectedIDX_get();gotoLayer_bySelector(t);var n=new ActionReference;n.putEnumerated(s2t("path"),s2t("ordinal"),s2t("targetEnum"));for(var o=executeActionGet(n).getObjectValue(s2t("pathContents")).getList(s2t("pathComponents")),r=[],i=0;i<o.count;i++)for(var s=o.getObjectValue(i).getList(s2t("subpathListKey")),a=0;a<s.count;a++)for(var u=s.getObjectValue(a).getList(s2t("points")),l=0;l<u.count;l++){var p=u.getObjectValue(l).getObjectValue(s2t("anchor")),c=p.getUnitDoubleValue(s2t("horizontal")),D=p.getUnitDoubleValue(s2t("vertical"));r.push({x:c,y:D})}for(var b=1/0,y=-1/0,g=1/0,d=-1/0,f=0;f<r.length;f++)r[f].x<b&&(b=r[f].x),r[f].x>y&&(y=r[f].x),r[f].y<g&&(g=r[f].y),r[f].y>d&&(d=r[f].y);return layer_selectedIDX_set(e),{topLeft:{x:b,y:g},bottomRight:{x:y,y:d}}}return!1}U?($.writeln("Schnittmenge gefunden:"),$.writeln("Oben links: X = "+U.topLeft[0]+", Y = "+U.topLeft[1]),$.writeln("Unten rechts: X = "+U.bottomRight[0]+", Y = "+U.bottomRight[1]),$.writeln("Breite: "+U.width),$.writeln("Höhe: "+U.height),t="rectangle",e=U.topLeft[1],n=U.topLeft[0],o=U.bottomRight[1],r=U.bottomRight[0],i=!1,s=[255,255,255],a=!0,u=[255,0,0],l=2,p="strokeStyleAlignOutside",c=new ActionDescriptor,D=new ActionDescriptor,b=new ActionDescriptor,y=new ActionDescriptor,g=new ActionDescriptor,d=new ActionDescriptor,f=new ActionDescriptor,m=new ActionDescriptor,h=new ActionList,(S=new ActionReference).putClass(s2t("contentLayer")),c.putReference(s2t("null"),S),y.putDouble(s2t("red"),s[0]),y.putDouble(s2t("grain"),s[1]),y.putDouble(s2t("blue"),s[2]),b.putObject(s2t("color"),s2t("RGBColor"),y),D.putObject(s2t("type"),s2t("solidColorLayer"),b),g.putInteger(s2t("unitValueQuadVersion"),1),g.putUnitDouble(s2t("top"),s2t("pointsUnit"),e),g.putUnitDouble(s2t("left"),s2t("pointsUnit"),n),g.putUnitDouble(s2t("bottom"),s2t("pointsUnit"),o),g.putUnitDouble(s2t("right"),s2t("pointsUnit"),r),D.putObject(s2t("shape"),s2t(t),g),d.putInteger(s2t("strokeStyleVersion"),2),d.putBoolean(s2t("strokeEnabled"),a),d.putBoolean(s2t("fillEnabled"),i),d.putUnitDouble(s2t("strokeStyleLineWidth"),s2t("pixelsUnit"),l),d.putUnitDouble(s2t("strokeStyleLineDashOffset"),s2t("pointsUnit"),0),d.putDouble(s2t("strokeStyleMiterLimit"),100),d.putEnumerated(s2t("strokeStyleLineCapType"),s2t("strokeStyleLineCapType"),s2t("strokeStyleButtCap")),d.putEnumerated(s2t("strokeStyleLineJoinType"),s2t("strokeStyleLineJoinType"),s2t("strokeStyleMiterJoin")),d.putEnumerated(s2t("strokeStyleLineAlignment"),s2t("strokeStyleLineAlignment"),s2t(p)),d.putBoolean(s2t("strokeStyleScaleLock"),!1),d.putBoolean(s2t("strokeStyleStrokeAdjust"),!1),d.putList(s2t("strokeStyleLineDashSet"),h),d.putEnumerated(s2t("strokeStyleBlendMode"),s2t("blendMode"),s2t("normal")),d.putUnitDouble(s2t("strokeStyleOpacity"),s2t("percentUnit"),100),m.putDouble(s2t("red"),u[0]),m.putDouble(s2t("grain"),u[1]),m.putDouble(s2t("blue"),u[2]),f.putObject(s2t("color"),s2t("RGBColor"),m),d.putObject(s2t("strokeStyleContent"),s2t("solidColorLayer"),f),D.putObject(s2t("strokeStyle"),s2t("strokeStyle"),d),c.putObject(s2t("using"),s2t("contentLayer"),D),executeAction(s2t("make"),c,DialogModes.NO)):$.writeln("Keine Schnittmenge vorhanden."),app.preferences.rulerUnits=startRulerUnits}function decodeUmlaute(t){return t.replace(/Ã¼/g,"ü").replace(/Ã¶/g,"ö").replace(/Ã¤/g,"ä").replace(/ÃŸ/g,"ß")}String.prototype.cleanUmlaut=function(){var t=this;return t=(t=(t=(t=(t=(t=t.replace(/a\u0308/g,"ä")).replace(/o\u0308/g,"ö")).replace(/u\u0308/g,"ü")).replace(/A\u0308/g,"Ä")).replace(/O\u0308/g,"Ö")).replace(/U\u0308/g,"Ü")};try{var _imageName="046-047__11F_197_Museum_Köln.psd";$.writeln(_imageName),app.activeDocument=app.documents.getByName(_imageName)}catch(t){alert("error: "+t)}